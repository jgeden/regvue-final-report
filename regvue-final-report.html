<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="Josh Geden, Rob Donnelly">
<title>regvue: Improving Hardware Register Documentation Tooling</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>regvue: Improving Hardware Register Documentation Tooling</h1>
<div class="details">
<span id="author" class="author">Josh Geden</span><br>
<span id="email" class="email"><a href="mailto:joshua.geden@duke.edu">joshua.geden@duke.edu</a></span><br>
<span id="author2" class="author">Rob Donnelly</span><br>
<span id="email2" class="email"><a href="mailto:robert.donnelly@jpl.nasa.gov">robert.donnelly@jpl.nasa.gov</a></span><br>
<span id="revdate">2022-08-15</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_abstract">1. Abstract</a></li>
<li><a href="#_introduction">2. Introduction</a></li>
<li><a href="#_methods">3. Methods</a>
<ul class="sectlevel2">
<li><a href="#_development">3.1. Development</a></li>
<li><a href="#_schema">3.2. Schema</a></li>
<li><a href="#_application">3.3. Application</a>
<ul class="sectlevel3">
<li><a href="#_frontend">3.3.1. Frontend</a></li>
<li><a href="#_bit_manipulation">3.3.2. Bit Manipulation</a></li>
<li><a href="#_search">3.3.3. Search</a></li>
<li><a href="#_routing">3.3.4. Routing</a></li>
<li><a href="#_data_store">3.3.5. Data Store</a></li>
<li><a href="#_include_elements">3.3.6. Include Elements</a></li>
<li><a href="#_testing">3.3.7. Testing</a></li>
</ul>
</li>
<li><a href="#_deployment">3.4. Deployment</a>
<ul class="sectlevel3">
<li><a href="#_restricted_information">3.4.1. Restricted Information</a></li>
<li><a href="#_desktop_application">3.4.2. Desktop Application</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_results">4. Results</a></li>
<li><a href="#_conclusion">5. Conclusion</a></li>
<li><a href="#_acknowledgments">6. Acknowledgments</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_abstract">1. Abstract</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hardware documentation at JPL has historically been generated by hand and accessed through shared PDF or Word documents.
This can lead to issues where the documentation does not keep pace with the actual hardware implementation.
It also leads to documents that are difficult to use and lack the necessary features to accelerate the hardware debugging process.
To address these issues, a hardware documentation tool called <em>regvue</em> was created.
This tool is available as a web application and is capable of building advanced documentation sites from data files that implement the Register Description Format.
Documentation can now be automatically updated by making changes to the data files, ensuring that engineers always have access to current information in an easy-to-read format.
Features such as full-text search and automatic bit encoding/decoding are also provided.
Future features will include enabling <em>regvue</em> to interface with hardware and directly read and decode register values.
By providing higher quality documentation and advanced features with <em>regvue</em>, hardware engineers will spend significantly less time during the debugging process.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">2. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When engineers at JPL need to consult Field Programmable Gate Array (FPGA) hardware documentation, they traditionally have turned to PDF or Word documents created and maintained by FPGA design engineers that are hosted on internal file-sharing websites.
From these websites, FPGA hardware test engineers can either preview the document online or they can download the file and open it locally.
Because online file viewers lack certain features and are typically slower to use, most engineers download these documentation files and use them locally.</p>
</div>
<div class="paragraph">
<p>This creates an issue when the design engineer uploads a new version of the documentation but test engineers continue to use their locally-downloaded documentation file, which has since become outdated.
This mismatch can be difficult to notice and can incur significant delays, and therefore additional costs, during the FPGA testing and debugging process.</p>
</div>
<div class="paragraph">
<p>In addition to this, the documentation provided by these documents is static and does not support the actual testing and debugging workflow of hardware engineers.
For example, say there is a field that takes up the bottom (least-significant) 6 bits of a 32 bit register.
This field represents the number of errors a certain device encounters.
A typical workflow to obtain the number of errors may therefore look like:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Read out the value of the register using external tools as a big-endian hexadecimal value</p>
</li>
<li>
<p>Convert the big-endian value to a little-endian value</p>
</li>
<li>
<p>Convert that value from hexadecimal to binary</p>
</li>
<li>
<p>Isolate the bottom 6 bits of that binary value</p>
</li>
<li>
<p>Convert that value to decimal</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This manual manipulation and conversion of register and field values is incredibly error-prone and unnecessarily increases the complexity of the already complex hardware testing and debugging process.</p>
</div>
<div class="paragraph">
<p>These issues with JPL&#8217;s existing hardware documentation strategy is what inspired the development of <em>regvue</em>.
Available as both a web and desktop application, <em>regvue</em> utilizes a design-agnostic JSON schema called the Register Description Format (RDF) to generate easy-to-use and modern hardware documentation.</p>
</div>
<div class="paragraph">
<p>Design engineers can use existing register automation tools to generate RDF files from existing documentation specifications.
These files can then parsed by <em>regvue</em> to produce a website with all the features of classic online technical documentation sites as well as additional features specific to the FPGA testing and debugging workflow.</p>
</div>
<div class="paragraph">
<p>FPGA hardware test engineers no longer have to worry about accessing out-of-date documentation, because FPGA design engineers can host their RDF files through online repositories that <em>regvue</em> can access, so any update to the design can be automatically reflected in the documentation site accessed by test engineers.
Test engineers also no longer have to manually parse register values, because <em>regvue</em> includes an interactive bit table for every register that can automatically decode register values into meaningful representations and can automatically convert values between hexadecimal, decimal, and binary representations. The documentation provided by <em>regvue</em> will therefore significantly reduces the costs and delays associated with testing and debugging FPGA hardware.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_methods">3. Methods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following sections describe in a high-level manner the different aspects of the <em>regvue</em> application, the processes used to create it, and the surrounding technologies necessary to run it.
It will touch on the different problems encountered and how these problems were resolved.</p>
</div>
<div class="sect2">
<h3 id="_development">3.1. Development</h3>
<div class="paragraph">
<p><em>regvue</em> was developed by a small team of 2 developers.
New feature requests, potential bugs, and any discussion on design implementation was managed using GitHub Issues.
Any changes to the codebase were tracked and implemented incrementally using GitHub Pull Requests.</p>
</div>
<div class="paragraph">
<p><em>regvue</em> adheres to <a href="https://semver.org/">semantic versioning</a> to track the addition of new features and to introduce backwards-incompatible features or changes.
New features are also tracked in a <a href="https://keepachangelog.com">changelog</a> file.</p>
</div>
<div class="paragraph">
<p>When <em>regvue</em> reached a point where a new release was desired, first a GitHub Tag was created to mark the commit in the repository that the release corresponds to.
Then a compressed production bundle of the app would be published as a GitHub Release.
This Release would come with a summary of all the new changes recorded in the changelog file as release notes.</p>
</div>
<div class="paragraph">
<p>After creating a new release, the official <em>regvue</em> deployment maintained by the <em>regvue</em> development team is updated to this new version.</p>
</div>
</div>
<div class="sect2">
<h3 id="_schema">3.2. Schema</h3>
<div class="paragraph">
<p><em>regvue</em> expands upon previous work that resulted in the creation of the Register Description Format (RDF) schema.
The RDF provides a design-agnostic JSON-encoded hardware design formalization that can be used to document FPGA hardware systems.</p>
</div>
<div class="paragraph">
<p>On different projects and missions, FPGA design engineers make use of different file formats and file types, such as Word DOCX files or Tcl files, to document their designs.
The RDF was created to bridge the gap between these different formats and file types and to provide a general-use data format that can be used by external applications.
Different register automation solutions were then created that are capable of generating RDF files from the different types of hardware documentation specifications.</p>
</div>
<div class="paragraph">
<p>Because the RDF is designed to be used by external applications, it strictly adheres to <a href="https://semver.org/">semantic versioning</a> to ensure version compatibility.</p>
</div>
<div class="paragraph">
<p>All RDF files begin as JSON-encoded files with three top-level objects.</p>
</div>
<div class="paragraph">
<p>The <code>schema</code> object defines the name and version of the schema being used.
Only v1.x of the <code>register-description-format</code> is currently supported by <em>regvue</em>, but this meta data was included to allow for future data formats to be supported in the future.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>schema</code> object</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"schema": {
    "version": "v1",
    "name": "register-description-format"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>root</code> object provides information about the overall FPGA design being represented.
This includes the name, version, and descriptive doc text.
It also includes a list of ids for all root-level elements (or root "children").</p>
</div>
<div class="listingblock">
<div class="title">Example <code>root</code> object</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"root": {
    "version": "v1.0",
    "desc": "Example Design",
    "doc": "This is an example design.",
    "children": [ ... ],
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>elements</code> object is a map of all element within the system.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>elements</code> object with a single <code>reg</code> type element</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"elements": {
    "registerA": {
        "id": "registerA",
        "name": "registerA",
        "type": "reg",
        "offset": "0x0",
        "doc": "Register A - an example register",
        "fields": [
            {
                "name": "example_field",
                "access": "ro",
                "lsb": 0,
                "nbits": 32,
                "doc": "Example field"
            }
        ]
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The RDF uses a dot notation to manage element hierarchy.
If an element has the name <code>register</code> and its parent element is named <code>block</code> which has no parent element itself, then the <code>register</code> element has the id <code>block.register</code>.</p>
</div>
<div class="paragraph">
<p>In order to ensure any RDF files opened in <em>regvue</em> conform to this schema, files are validated using JSON Schema when they are first loaded.
JSON Schema is a standardization that can be used to define what a JSON document must look like, ways to extract information from it, and how to interact with it.
Different validation libraries exist that support the JSON Schema standard and can be used to automatically validate that JSON files adhere to a specific schema.</p>
</div>
</div>
<div class="sect2">
<h3 id="_application">3.3. Application</h3>
<div class="paragraph">
<p>When developing <em>regvue</em>, the two highest priority goals were interactivity and portability.</p>
</div>
<div class="paragraph">
<p>There were already existing solutions in the form of Word documents and static auto-generated HTML pages, but these solutions lack interactivity.</p>
</div>
<div class="paragraph">
<p>Word document specifications also lack portability between different operating systems due to formatting quirks with Microsoft Office and have issues regarding version control.
Test engineers will typically have a local copy of Word document specifications that they use for reference.
In the past, design engineers have made changes to FPGA designs and updated their documentation to reflect that, but hardware test engineers continued to use their out-of-date local documentation, which incurred unnecessary delays in the hardware testing and debugging process.</p>
</div>
<div class="paragraph">
<p>We considered creating a desktop app with Python and the TK GUI library.
This would have been a portable solution, but more difficultly so, because there would be overhead in terms of users having to install Python to run the application.
It also makes updating <em>regvue</em> much more complex because users would be running local executables and would therefore suffer from the same version control issue that affects local documentation.</p>
</div>
<div class="paragraph">
<p>Based on the shortcomings of these implementations, we decided to create <em>regvue</em> as a web application.
This allows us to include interactivity by using JavaScript within the app and it is incredibly portable because users can access it from any browser on any type of OS.</p>
</div>
<div class="paragraph">
<p>A web application also has the benefit of having a lower-barrier to entry.
There is no installation necessary to use <em>regvue</em>, so users that do not interact with the hardware testbed, such as design &amp; verification teams and software teams, are more likely to use the application.</p>
</div>
<div class="sect3">
<h4 id="_frontend">3.3.1. Frontend</h4>
<div class="paragraph">
<p>In this context, the frontend of the <em>regvue</em> app refers to everything that the user can see and interact with, and the code necessary to support that interactivity.
In order to build the frontend user interface (UI) of <em>regvue</em>, we used the Vue framework with Typescript.</p>
</div>
<div class="paragraph">
<p>Using a framework like Vue simplifies the process of developing a web application.
It provides a declarative model, meaning when the state of the website changes, such as when a user clicks on a button or inputs a value in a text box, the UI automatically updates to match the new state.
It also provides a component model, meaning sections of code can be encapsulated in modular components that can be reused multiple times throughout the application.</p>
</div>
<div class="paragraph">
<p>Similar frontend frameworks, such as Angular or React, also could have been used to create <em>regvue</em>.
We made the decision to use Vue because of its use of native HTML templates to build UIs (as compared to React&#8217;s use of JSX) and because Vue follows a progressive development model (as compared to Angular&#8217;s more opinionated MVC-based design).</p>
</div>
<div class="paragraph">
<p>We also used Typescript instead of plain JavaScript to improve the ease of development and maintainability of the code base.
Typescript allows the project to have well defined type interfaces that improve code readability and will make returning to the source code easier in the future.</p>
</div>
<div class="paragraph">
<p><em>regvue</em> uses Tailwind CSS, a CSS utility framework that provides composable CSS classes to functionally build modern styles.
Originally, <em>regvue</em> was built using pre-stylized components from the PrimeVue component library.
PrimeVue provides pre-made components that can be used to quickly build a web app, but at the cost of not being able to modify the styling of those components very easily.
Tailwind is also incredibly performant and will automatically remove unused CSS classes to ship the smallest possible CSS file, meaning it has a much lighter footprint than PrimeVue.</p>
</div>
</div>
<div class="sect3">
<h4 id="_bit_manipulation">3.3.2. Bit Manipulation</h4>
<div class="paragraph">
<p>One of the most pressing issues that <em>regvue</em> was designed to resolve was to remove the need for hardware test engineers to manually manipulate register and field values.</p>
</div>
<div class="paragraph">
<p>In one instance, manual hardware testing found some unexpected behavior in which status bits would unexpected clear or not clear.
Eventually it was found that the issues were caused by bad input.
In one case, the test engineer wrote the value 0x0001000 when they should have written 0x00010000 (one more 0 digit at the end of the value).
In another case, the engineer wrote 00010030 instead of 0x00010030.
Here, the lack of a 0x prefix caused the value to be interpreted as octal.
In both cases, the perceived differences are subtle (and difficult to catch), but the effective differences are huge.
These issues required several days to resolve and could have been easily avoided if hardware engineers did not have to manually manipulate register values or if they had access to a tool that could automatically decode register values.</p>
</div>
<div class="paragraph">
<p>To prevent this issue in the future, every register element shown in <em>regvue</em> comes with an interactive bit table that automatically decodes the register value into its different fields.</p>
</div>
<div class="paragraph">
<p>Using this table, users can enter new register or field values.
If the user enters a new register value, then the fields are automatically updated based on the new value.
And if the user enters a new value for a specific field, the register value will be updated based on that new value.
These inputs are also automatically verified to ensure maximum size is not exceeded and that no invalid characters are included.</p>
</div>
<div class="paragraph">
<p>The table includes a set of buttons that can be used to swap between binary, decimal, and hexadecimal representations.</p>
</div>
<div class="paragraph">
<p>It also includes a toggle button that will byte swap the register value.
This allows for big-endian values to be automatically converted to little-endian, and vice versa, before being broken decoding into field values.</p>
</div>
<div class="paragraph">
<p>Registers can also come with different reset values, that are triggered by certain events, such when the device is powered on or when a hot reset is triggered.
The bit table provides a button and dropdown menu that can reset field values to any associated reset state.</p>
</div>
<div class="paragraph">
<p>Certain field values may correspond to named symbolic states that can give more meaning and context to raw encoded values.
For example, if an error field has a value of "0x1" that might correspond to an "Error" state.
The bit table supports enumerated field values and can automatically map these specific numeric values to named symbolic states.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/bit-table.png" alt="Bit Table">
</div>
<div class="title">Figure 1. Bit table for an example register</div>
</div>
</div>
<div class="sect3">
<h4 id="_search">3.3.3. Search</h4>
<div class="paragraph">
<p>FPGA designs can have over hundreds of hardware elements to document, so including extensive search functionality that can be used to quickly find elements was one of the first features to be added to <em>regvue</em>.</p>
</div>
<div class="paragraph">
<p>An important restriction on how we could implement search functionality was the need for export-controlled information to remain secure (see <a href="#_restricted_information">Restricted Information</a> for more information).
This means we could not use popular search providers such as Elastic Search or Algolia, because they require transmitting the data to an external server.
These providers also usually charge for their services, and <em>regvue</em> is committed to be accessible as free and open-source software.</p>
</div>
<div class="paragraph">
<p>For these reasons, we decided to implement a client-side search using the Lunr search library.
Lunr provides simple and extensible search functionality that has no external dependencies and can run completely within the browser, meaning no export-controlled information will ever be transmitted to an external service.</p>
</div>
<div class="paragraph">
<p>After users load a RDF file, a Lunr search index object is created that can be used to search for any hardware element by id, name, offset, or description text.
When the user provides a search query by typing in the search box, the index object will return a list of element ids that most closely correspond to the search text.</p>
</div>
<div class="paragraph">
<p>There are some drawbacks to using a client-side search.
There is additional load time necessary to build the search index on app load and it can take much more time to search the index with a given search query compared to external search providers.
However, because the data being searched is just plain text, client-side search has scaled relatively well.
For the Europa Compute Element design, which is a composition of 6 FPGA designs, the time to build the search index and to search the entire index typically takes less than 1 second.</p>
</div>
</div>
<div class="sect3">
<h4 id="_routing">3.3.4. Routing</h4>
<div class="paragraph">
<p><em>regvue</em> is implemented as a single-page application, and therefore needs to use a router to control which pages are displayed when users navigate to different URLs.
In traditional dynamic web applications, when the user navigates to a specific URL, the server will respond with a specific HTML file.
But with a single-page application, an object called the router will instead conditionally render different components based on the URL.</p>
</div>
<div class="paragraph">
<p>As a progressive framework, Vue allows developers to opt-in to different levels of complexity, and therefore does not provide a router out of the box.
However, the official Vue Router library is incredibly simple to add to an existing project since it follows a plugin-style architecture.</p>
</div>
<div class="paragraph">
<p>When the app first loads, a router object is created that comes with a predefined set of routes to handle.
<em>regvue</em> currently has three distinct page views that the router can display based on the URL.</p>
</div>
<div class="paragraph">
<p>The first page view that most users of <em>regvue</em> will see is the open page.
This page corresponds to the <code>/open</code> URL and provides users with input boxes to load a RDF file from the local filesystem or from a URL.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/open-view.png" alt="Open View">
</div>
<div class="title">Figure 2. Open page</div>
</div>
<div class="paragraph">
<p>Once the user opens a RDF file, the element page is shown.
This is the main view of <em>regvue</em> and displays the documentation information about the different design elements.
It also includes the navigation menu and the header.</p>
</div>
<div class="paragraph">
<p>URLs for the element view start with <code>/root</code>.
Then to view a specific element, the element id is given in the form of a URL.
So to view an element with id <code>system.board.ctrl</code>, the URL would be <code>/root/system/board/ctrl</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/element-view.png" alt="Element View">
</div>
<div class="title">Figure 3. Element page with an example register</div>
</div>
<div class="paragraph">
<p>The final page view is the 404 page.
This view is displayed when a user either enters a URL that does not correspond to a pre-defined route or tries to navigate to an element that does not exist.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/missing-view.png" alt="Element View">
</div>
<div class="title">Figure 4. 404 page</div>
</div>
</div>
<div class="sect3">
<h4 id="_data_store">3.3.5. Data Store</h4>
<div class="paragraph">
<p><em>regvue</em> uses Pinia, a store library specifically designed for use with Vue, to store and maintain all cross-component data that is used in the app.
Normally, data within Vue apps must be directly passed from parent components to child components, but having data that is accessible throughout the entire app can help simplify this data hierarchy.</p>
</div>
<div class="paragraph">
<p>When <em>regvue</em> first loads, a Pinia store object is created.
When the user then opens an RDF file, the store object parses the raw JSON and generates a map that stores all hardware elements (i.e. registers, blocks, or memory segments) within the FPGA design as formatted TypeScript objects.</p>
</div>
<div class="paragraph">
<p>This greatly simplifies accessing information about different elements from the different components within the file.
Instead of passing information about all the different elements from every parent component to every child component, <em>regvue</em> can instead obtain the current element&#8217;s id from the URL, and then can use that id to access information about the element from the store object.</p>
</div>
</div>
<div class="sect3">
<h4 id="_include_elements">3.3.6. Include Elements</h4>
<div class="paragraph">
<p>It is possible for FPGA designs to consist of multiple FPGA sub-designs that are grouped together due to related function or location.
An issue we encountered during development was the need to continually combine FPGA sub-designs for larger combined designs.
For example, the Europa Input/Output (EIO) and the Europa Memory (EMEM) FPGAs had both been specified using the RDF.
But the overall Europa Compute Element (ECE) contains both of these sub-designs.
Originally an external tool was used to combine the two sub-design RDF files into a single combined file.
This was not desireable because it meant an extra tool would need to be maintained and that there would duplicated information being stored.</p>
</div>
<div class="paragraph">
<p>To address this issue, we introduced the concept of an Include Element.
Rather than specifying an element as a register, block, or memory section, hardware design engineers can instead specify an element of type <code>include</code> and then provide a URL.
When <em>regvue</em> loads the RDF file, it will attempt to fetch an RDF file from the given URL and insert it into the parent RDF file.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>include</code> element</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"ece.eio": {
    "name": "eio",
    "id": "ece.eio",
    "type": "include",
    "offset": "0xc0e00000",
    "url": "eio.json" <b class="conum">(1)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>This is a relative URL property. If the parent json file is at <code><a href="https://example.com/ece.json" class="bare">https://example.com/ece.json</a></code>, then this url corresponds to <code><a href="https://example.com/eio.json" class="bare">https://example.com/eio.json</a></code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This drastically simplifies the process of building combined designs and removes the need for an external tool to combine RDF files.</p>
</div>
</div>
<div class="sect3">
<h4 id="_testing">3.3.7. Testing</h4>
<div class="paragraph">
<p>Testing is incredibly important for ensuring previously implemented features continue to work.
Unit tests are typically used to test individual functions in isolation.
End-to-end tests or integration tests are used to test how an application functions when its different modules are integrated and working together.</p>
</div>
<div class="paragraph">
<p><em>regvue</em> uses the Vitest unit testing framework to test utility functions.
These tests provide an input and expected output to different isolated functions.
The testing framework will then call the given functions with the provided inputs and ensure it matches the provided outputs.
For example, there is a utility function that is used throughout the <em>regvue</em> app to turn a string representation of a value into a number.
So "0x2", "0b10", and "2" would all return the numeric value <code>2</code>.
There is a unit test that provides these three different inputs and asserts that the function returns <code>2</code> for all of them.</p>
</div>
<div class="paragraph">
<p><em>regvue</em> uses the Cypress end-to-end testing framework to perform browser-based integration testing.
These tests are more focused on testing the interactivity of the app, and often test multiple components at the same time.
These tests are written by accessing HTML DOM elements, typically by the elements' ids, and then performing actions on those elements, such as clicking or typing, by calling Cypress functions.</p>
</div>
<div class="paragraph">
<p>An example of an integration test that <em>regvue</em> has includes typing a search term in the search box, selecting the first search result, and ensuring that the app then displays information about that search result.
Other Cypress tests written for <em>regvue</em> include testing menu navigation, bit table value manipulation, and opening new RDF files.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_deployment">3.4. Deployment</h3>
<div class="paragraph">
<p><em>regvue</em> has minimal hosting requirements and can be deployed as a static site on almost any hosting platform, including free services such as GitHub Pages and GitLab Pages.
The <em>regvue</em> development team maintains a set of deployments using GitHub Pages that correspond to all major versions of <em>regvue</em>, meaning end users do not need to install or deploy <em>regvue</em> if they do not wish to.</p>
</div>
<div class="sect3">
<h4 id="_restricted_information">3.4.1. Restricted Information</h4>
<div class="paragraph">
<p>Most information regarding FPGA designs at JPL is subject to U.S. Export Regulations.
This means that the information cannot be shared with foreign persons without prior approval.
There are also additional sensitivity levels that require further restriction, such as Controlled Unclassified (CUI), Sensitive but Unclassified (SBU), or For Official Use Only (FOUO).</p>
</div>
<div class="paragraph">
<p>To allow for information that falls under these sensitivity levels to be usable with <em>regvue</em>, significant thought had to be given to ensure that users can only access information that they are authorized to.
The <em>regvue</em> application itself does not include any sensitive information within its deployed build code, so the problem that we had to solve was to ensure any RDF files that users want to link to are limited to those who are allowed to access them, but still accessible by the <em>regvue</em> app.</p>
</div>
<div class="paragraph">
<p>Our use of GitHub Pages actually solved this issue for us with minimal overhead.
We host <em>regvue</em> on JPL&#8217;s GitHub Enterprise server using GitHub Pages, which is only accessible to U.S. persons and requires users to be logged in with a JPL GitHub account.
When users then want to access a RDF file by URL, if that file is also hosted in a public repository on JPL&#8217;s GitHub Enterprise server, no additional authentication is necessary because they are already logged in with their JPL GitHub account.</p>
</div>
<div class="paragraph">
<p>Information that falls under stricter sensitivity levels must be restricted further.
To accomplish this, RDF files can be hosted in a private repository on JPL&#8217;s GitHub Enterprise Server and then access can be granted to select individuals.
When users attempt to load a file from these private repositories, their JPL GitHub account will be checked to ensure they are allowed access.</p>
</div>
<div class="paragraph">
<p>This use of GitHub Enterprise therefore means the official <em>regvue</em> deploy has built-in authentication with no additional code necessary.</p>
</div>
</div>
<div class="sect3">
<h4 id="_desktop_application">3.4.2. Desktop Application</h4>
<div class="paragraph">
<p>While <em>regvue</em> was primarily developed to be deployed as a web app, we have also been able to create executable binaries that are capable of running directly on Windows, Mac, and Linux operating systems as a desktop application.
To accomplish this, we used the Tauri framework, which provides a cross-platform WebView rendering library that is capable of displaying a web-based frontend.
While not officially supported yet, we plan to use these local executables in the future to add specific features to <em>regvue</em> that would be otherwise impossible due to browser limitations.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_results">4. Results</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Engineers working on the Europa Clipper and Mars Sample Return (MSR) missions have already integrated <em>regvue</em> into their workflows, and so far the tool has proved to be a great help.</p>
</div>
<div class="quoteblock">
<blockquote>
I have used regvue a lot during integration testing for Europa Clipper.
There are integration tasks [where I have] to poke and peek at registers and the regvue tool allows me to quickly look up a register and test out different register values.
Figuring out those register values can be quite challenging since it is broken down to 32 bits, but the regvue tool helps make that translation easier.
It cuts down the time it would take to go through the document, put down on paper what the register should be and double checking the value.
Also, with the tool being able to convert from binary to decimal to hexadecimal, it makes translating engineering values way easier.
I hope to continue to use this on future projects such as MSR.
</blockquote>
<div class="attribution">
&#8212; Brian Nguyen<br>
<cite>Senior Electrical Engineer, Europa Clipper (348E)<br></cite>
</div>
</div>
<div class="quoteblock">
<blockquote>
Regvue is the interactive register viewer I have dreamed about for years.
It&#8217;s a powerful tool to assist hardware designers, software designers, and end-users.
I plan to use it on all of my flight FPGA designs going forward.
</blockquote>
<div class="attribution">
&#8212; Ryan Stern<br>
<cite>MSR SRL Motor Control Card FPGA Task Lead (349C)</cite>
</div>
</div>
<div class="paragraph">
<p>Users have consistently remarked on how <em>regvue</em> drastically simplifies the hardware testing and debugging process.</p>
</div>
<div class="paragraph">
<p>The interactive bit table is perhaps the most popular feature amongst users and many have said they can&#8217;t imagine ever having to return to manually manipulating register values.</p>
</div>
<div class="paragraph">
<p><em>regvue</em> is not done being developed either.
Futures plans include adding the ability to compare and provide diff highlighting for multiple potential values of a single register and to allow for real-time testbed integration.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">5. Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JPL now has a robust hardware documentation solution that can be used to document any future hardware designs.
The documentation provided by <em>regvue</em> is easy to access, easy to update, and provides advanced features that are capable of accelerating the hardware testing and debugging process.
Hardware test engineers will no longer accidentally access out-of-date documentation or make errors trying to manually manipulate register and field values.</p>
</div>
<div class="paragraph">
<p>Design and hardware engineers who have used <em>regvue</em> have already demonstrated enthusiasm to continue to use the tool on future projects and hardware leads on both the Europa Clipper and MSR missions are eager to introduce the tool to more teams throughout JPL.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgments">6. Acknowledgments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Special thanks to Rob Donnelly for his mentorship and guidance.<br>
<em>regvue</em> was his vision, and it has been an extremely rewarding experience to help bring that vision to reality.</p>
</div>
<div class="paragraph">
<p>Thanks to Mike Thielman, Europa Clipper Avionics Systems Engineering Lead, and the Europa Clipper Mission for providing the funding and administrative support necessary to transform <em>regvue</em> from a proposal and prototype to a full-fledged hardware documentation solution.</p>
</div>
<div class="paragraph">
<p>Additional thanks to Ryan Stern and the hardware engineers in the Flight Software and Avionics Systems Group for their early adoption of <em>regvue</em> and for supporting its development by suggesting new features and identifying bugs.</p>
</div>
<div class="paragraph">
<p>And lastly, thanks to the Caltech Student-Faculty Programs Office and JPL for hosting the JPL Summer Internship Program and to all those who helped support this program.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-10-02 20:57:31 UTC
</div>
</div>
</body>
</html>